!function(a,b,c){"use strict";function d(a){a.css("width","auto").css("height","auto"),a.css("height",a.parents(".wampum-popup-inner").height(),"max-height","100%","max-width","100%")}function e(a){a.fadeOut("fast"),"undefined"!=typeof _ouibounce&&_ouibounce.disable(),a.find(".wampum-popup-prev").hide(),a.find(".wampum-popup-next").hide()}b("body").on("click",".wampum-popup-link",function(a){a.preventDefault(),b("#wampum-popup-"+b(this).attr("data-popup")).show()}),b.each(b(".wampum-popup"),function(c,f){var g=b(this).attr("data-popup"),h=b("#wampum-popup-"+g),i=wampum_popups_vars[g].wampumpopups,j=wampum_popups_vars[g].ouibounce,k=[];for(var l in j)j.hasOwnProperty(l)&&(k[l]=j[l]);if(h.addClass("wampum-"+i.style+" wampum-"+i.type),"gallery"==i.type){var m=h.find(".wampum-popup-content");b(".gallery-item").length>1&&(m.after('<span style="display:none;" class="wampum-popup-button wampum-popup-next"><span class="screen-reader-text">Next</span></span>'),m.after('<span style="display:none;" class="wampum-popup-button wampum-popup-prev"><span class="screen-reader-text">Previous</span></span>')),b(".gallery-item").on("click","a",function(c){function o(){l.is(":visible")&&(k=l,g.attr("src",k.find("a").prop("href")).attr("alt",k.find("img").attr("alt")),l=k.prevAll(".gallery-item")?k.prevAll(".gallery-item").first():"",n=k.nextAll(".gallery-item")?k.nextAll(".gallery-item").first():"",l.length>0?i.fadeIn("fast"):i.hide(),n.length>0?j.fadeIn("fast"):j.hide())}function p(){n.is(":visible")&&(k=n,g.attr("src",k.find("a").prop("href")).attr("alt",k.find("img").attr("alt")),l=k.prevAll(".gallery-item")?k.prevAll(".gallery-item").first():"",n=k.nextAll(".gallery-item")?k.nextAll(".gallery-item").first():"",l.length>0?i.fadeIn("fast"):i.hide(),n.length>0?j.fadeIn("fast"):j.hide())}c.preventDefault();var e=b(this).prop("href"),f=b(this).find("img").attr("alt");m.find("img").remove(),m.append('<img style="width:auto;height:auto;" src="'+e+'" alt="'+f+'"/>'),h.show();var g=h.find("img"),i=h.find(".wampum-popup-prev").first(),j=h.find(".wampum-popup-next").first(),k=b(this).parents(".gallery-item"),l=k.prevAll(".gallery-item").first(),n=k.nextAll(".gallery-item").first();l.length>0?setTimeout(function(){i.fadeIn("fast")},500):i.hide(),n.length>0?setTimeout(function(){j.fadeIn("fast")},500):j.hide(),g.on("load",function(){d(g)}),b(window).resize(function(){d(g)}),i.on("click",function(){o()}),j.on("click",function(){p()}),b(a).keydown(function(a){switch(a.which){case 37:o();break;case 38:break;case 39:p();break;case 40:break;default:return}a.preventDefault()})})}if("exit"==i.type&&ouibounce(h[0],k),"timed"==i.type)if("true"==k.aggressive)h.show();else{var n=ouibounce(h[0],k);setTimeout(function(){n.fire()},i.time)}b(h).on("click",".wampum-popup-close",function(){e(h)}),i.close_outside&&b("body").mouseup(function(a){if(b(a.target).hasClass("wampum-popup-prev")||b(a.target).hasClass("wampum-popup-next"))return!1;h.find(".wampum-popup-content");b(a.target).hasClass("wampum-popup-content")||b(a.target).parents().hasClass("wampum-popup-content")||e(h)}),b(a).keydown(function(a){switch(a.which){case 27:e(h);break;default:return}a.preventDefault()})})}(this,jQuery);